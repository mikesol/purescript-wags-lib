<!DOCTYPE html>
<html>
	<head>
		<title>svg tests</title>
		<script>
			var mouseInfo = { down: false };
      var crunch = function(evt) {
        var e = evt.target;
					var dim = e.getBoundingClientRect();
					var x = evt.clientX - dim.left;
					var y = evt.clientY - dim.top;
					var nc = (x * 500) / dim.width;
					document.getElementById("slider").setAttribute("width", nc);
      }
			function mdown(evt) {
				mouseInfo.down = true;
        crunch(evt);
			}
			function mup() {
				mouseInfo.down = false;
			}
			function moveSlider(evt) {
				if (mouseInfo.down) {
					crunch(evt);
				}
			}
		</script>
	</head>
	<body>
		<svg width="1000" height="1000" viewBox="0 0 1000 1000">
			<rect x="100" y="100" width="500" height="70" fill="grey" />
			<rect id="slider" x="100" y="100" width="300" height="70" fill="red" />
			<rect
				onmousedown="mdown(event);"
				onmouseup="mup();"
				onmousemove="moveSlider(event);"
				x="100"
				y="100"
				width="500"
				height="70"
				fill="rgba(0,0,0,0)"
			/>
		</svg>
	</body>
</html>
